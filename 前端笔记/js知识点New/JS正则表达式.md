# JS正则表达式

[toc]

--------

**正则表达式是匹配模式，要么匹配字符，要么匹配位置。**

https://juejin.cn/post/6844903653686378504

进阶：https://juejin.cn/post/6844903487155732494



## 正则表达

正则表达式以 `/` 开头表示这是一个正则表达式。例如： `/\bis\b/g`

如果是使用使用构造函数的方法实例正则表达式，则不需要`/`开头表示，例如：`var reg = new RegExp('\\bis\\b','g')`，但是里面的`\`等特殊字符需要用`\`进行转义。



### 修饰符

正则表达式的修饰符有：

- 'g': global 全文搜索，如果不添加，搜索到第一个就会停止
- 'i': ignore case 忽略大小写，不写的话默认大小写敏感
- 'm': multiple 多行搜索 ，使边界字符 ^ 和 $ 匹配每一行的开头和结尾，记住是多行，而不是整个字符串的开头和结尾。
- 's': 特殊字符圆点 . 中包含换行符 \n =>默认情况下的圆点 . 是匹配除换行符 \n 之外的任何字符，加上 s 修饰符之后, . 中包含换行符 \n。



### 元字符

正则表达式由两种基本字符类型组成：

- 原义文本字符，即代表它原本含义的字符
- 元字符，元字符是在正则表达式中有特殊含义的非字母字符，例如上文提到的'\b'，表示匹配单词边界，并不是匹配'\b'，在正则中主要存在这些特殊字符：`*,+,?,$,^,.,|,\,(,),{,},[,]`

**特殊字符的含义**

| ^      | 匹配一个输入或一行的开头，/^a/匹配"an A"，而不匹配"An a"     |
| :----- | :----------------------------------------------------------- |
| $      | 匹配一个输入或一行的结尾，/a$/匹配"An a"，而不匹配"an A"     |
| *      | 匹配前面元字符0次或多次，/ba*/将匹配b,ba,baa,baaa            |
| +      | 匹配前面元字符1次或多次，/ba*/将匹配ba,baa,baaa              |
| ?      | 匹配前面元字符0次或1次，/ba*/将匹配b,ba                      |
| (x)    | 匹配x保存x在名为$1...$9的变量中                              |
| x\|y   | 匹配x或y                                                     |
| {n}    | 精确匹配n次                                                  |
| {n,}   | 匹配n次以上                                                  |
| {n,m}  | 匹配n-m次                                                    |
| [xyz]  | 字符集(character set)，匹配这个集合中的任一一个字符(或元字符) |
| [^xyz] | 不匹配这个集合中的任何一个字符                               |
| [\b]   | 匹配一个退格符                                               |
| \b     | 匹配一个单词的边界                                           |
| \B     | 匹配一个单词的非边界                                         |
| \cX    | 这儿，X是一个控制符，/\cM/匹配Ctrl-M                         |
| \d     | 匹配一个字数字符，/\d/ = /[0-9]/                             |
| \D     | 匹配一个非字数字符，/\D/ = /[^0-9]/                          |
| \n     | 匹配一个换行符                                               |
| \r     | 匹配一个回车符                                               |
| \s     | 匹配一个空白字符，包括\n,\r,\f,\t,\v等                       |
| \S     | 匹配一个非空白字符，等于/[^\n\f\r\t\v]/                      |
| \t     | 匹配一个制表符                                               |
| \v     | 匹配一个重直制表符                                           |
| \w     | 匹配一个可以组成单词的字符(alphanumeric，这是我的意译，含数字)，包括下划线，如[\w]匹配"$5.98"中的5，等于[a-zA-Z0-9] |
| \W     | 匹配一个不可以组成单词的字符，如[\W]匹配"$5.98"中的$，等于[^a-zA-Z0-9]。 |

### 字符类

一般情况下，正则表达式一个字符对应字符串一个字符，例如：`ab\t`就是匹配字符串'ab'+'tab'
# Git的使用说明

#### 详情点击：https://blog.csdn.net/qq_42785250/article/details/107884845

---

## 1.分支
在公司主要的分支有以下三个：

**master分支**：
这个是生产环境（上线环境）。master上的代码是最正确的、最稳定的版本。
**测试分支（release）**：
运维测试人员检测代码的分支（每个月有四个这个的测试分支，比如：19年5月第一周、19年5月第二周…）
**功能分支（feature）**：
每个程序员写分配给自己的任务的功能分支。
**bug分支（fixed）**：
当某个程序员写的程序有bug，需要更改时创建的分支。

## 2.使用流程

### 2.1 接到任务在GitLab上创建自己的分支

当接收到一个任务，名称为：taskA，你需要到GitLab上创建一个这个功能的分支。
在创建分支之前，你必须要清楚的是，你的任务是属于哪个系统的（项目规模很大时会有很多系统），在GitLab上找到对应的系统-->找到对应的系统点击去，点击**commit** -->点击 **new Branch** 创建taskA任务的分支，分支的名称尽量和任务的名称保持一致，格式为：**年月日+功能的名称**，便于日后的查看与管理。

![image-20230711210728987](/Users/ll/Library/Application Support/typora-user-images/image-20230711210728987.png)

### 2.2 在编译工具中找到你创建的分支并切换

在vscode中的**右下角**（分支切换的地方，这里以我的为准，如果不一样你们好好找找）找到你创建的任务分支，在远程分支中寻找你刚刚创建的那个功能分支，如果没有找到需要update（这个update就是git的update）一下。找到后切换到创建的分支，找到之后并切换。

### 2.3 切换后与远程的master分支合并一下

这里需要和master分支合并一下，**注意：是先切换到你自己创建的分支，在与远程master分支合并，不要搞反了！**。保证你和master分支上的代码的一致性，操作如下图所示：

![image-20230711211037762](/Users/ll/Library/Application Support/typora-user-images/image-20230711211037762.png)

到这里，创建分支的任务就完成啦。

### 2.4 开始写代码并提交

当你任务写完的时候你需要提交，一般在自己分支上，都是提交并推送的，也就是commit And push。其中commit message一定填写，否则提交不了，commit message它是对你提交内容的描述。


### 2.5 找到测试（预发布）分支切换并 合并

下面你需要在切换分支的地方（上面提到了）找到测试分支（如果你们公司有测试分支的话）。找到之后，切换到测试分支，然后与你自己创建的分支进行合并。合并之后呢
目前你处于测试分支，然后再次点击push。你会发现，在push的列表中，会有你在自己分支上提交的代码。选中你提交的代码，点击push。
**注意：在你合并的时候，你一定要先切换到测试分支，然后合并远程你创建的分支，注意是你创建的远程分支，不要和你本地的分支合并。因为你push的代码是到了你创建的远程分支，至于如何分别远程与本地分支，上面在切换到你自己创建的分支的图片中有提到。一定不要搞错了！！！**

### 2.6 在测试分支在次提交代码

切换到测试分支和自己创建的分支进行合并以后，此时在测试分支上就有了你写的代码，但是还没有push到远程分支。所以需要push一下。

### 2.7 出现BUG时

当你写的代码中出现BUG，你需要修复。如果是些不痛不痒的小BUG，你可以直接在测试分支上修改，并提交。但是这是在你确保BUG很小，能够迅速的解决。反之，你需要创建一个BUG分支，来解决你的BUG，这个的流程和拿到一个新任务的过程一样。

### 2.8 删除分支

当你一切工作都做完的时候，你需要在GitLab上将你的分支删除。idea中的本地分支你想删就删。

## 3.这样做，会让你显得很专业

在你commit并push代码书写你对提交内容的描述的时候，也就是在书写commit message的时候，按照以下规则，会让你更受人待见，让你显得很专业！

1.主要type（最常使用）

feat: 增加了XXXX功能
fix: 修复XXXXBUG

注意：上述内容在书写的时候，冒号 必须是英文状态下的，并且在冒号的后面需要有一个空格，然后再去写后面的内容

2.特殊type
docs：只改动了文档相关的内容。
style：不影响代码含义的改动，例如去掉空格、改变缩进。
build：构造工具或者外部依赖的改动。
refactor：当重构代码的时候使用。
revert：回滚操作的时候使用。
merge：分支合并的时候使用。
3.备用type（特殊情况使用）

test：添加测试或者修改先有测试时使用。
perf：提高性能的改动。
ci：与CI（持续继承）有关的改动。
chore：不修改src或者test的其余修改，例如构建过程或者辅助工具的变动。



## 总结

git使用流程：

创建分支，并切换到该分支
与master分支合并，保证自己分支和master分支的一致性
写代码，提交并push到自己的远程分支
切换到测试分支与自己创建的远程分支合并
在测试分支中再次push，自己的代码（在测试分支中，自己写的代码可以通过在自己分支提交时书写的commit message这个标识来找到）